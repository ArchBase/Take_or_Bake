[gd_scene load_steps=13 format=3 uid="uid://croiksyafwmc7"]

[ext_resource type="PackedScene" uid="uid://bk52ond68nlqt" path="res://world/models/world_map.blend" id="1_lxk2f"]
[ext_resource type="PackedScene" uid="uid://d014f0u7i8781" path="res://world/models/ground.blend" id="2_jlpuf"]
[ext_resource type="PackedScene" uid="uid://wurkw0g58sv1" path="res://world/models/road.blend" id="3_bj6h2"]
[ext_resource type="PackedScene" uid="uid://dkvcpk2ani6uy" path="res://world/models/simple_appartment.blend" id="4_l73lp"]
[ext_resource type="PackedScene" uid="uid://s6kfpyvipidf" path="res://world/models/brick_building.blend" id="5_wujil"]
[ext_resource type="PackedScene" uid="uid://ci52bv1m15cbs" path="res://car/YellowCar.tscn" id="6_jwkj6"]

[sub_resource type="BoxShape3D" id="BoxShape3D_to2rs"]
size = Vector3(50.7697, 1, 49.5061)

[sub_resource type="BoxShape3D" id="BoxShape3D_kg1ye"]

[sub_resource type="BoxMesh" id="BoxMesh_yxvrm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_t5iyl"]
size = Vector3(1, 0.3, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_k3opd"]
size = Vector3(6.3, 15.9, 7)

[sub_resource type="BoxShape3D" id="BoxShape3D_rwc3a"]
size = Vector3(2, 2, 2)

[node name="World" type="Node3D"]

[node name="world_map" parent="." instance=ExtResource("1_lxk2f")]
transform = Transform3D(1.8, 0, 0, 0, 1.8, 0, 0, 0, 1.8, 0, 0, 0)

[node name="ground" type="StaticBody3D" parent="world_map"]

[node name="ground" parent="world_map/ground" instance=ExtResource("2_jlpuf")]
transform = Transform3D(4.55114, 0, 0, 0, 3.9, 0, 0, 0, 4.29479, 0, 0.2, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/ground"]
transform = Transform3D(1.04, 0, 0, 0, 1.04, 0, 0, 0, 1.04, 0.239565, -0.261808, -1.18071)
shape = SubResource("BoxShape3D_to2rs")

[node name="roads" type="Node3D" parent="world_map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)

[node name="road" parent="world_map/roads" instance=ExtResource("3_bj6h2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.4, -9.12642, -0.0533866, 18.8889)

[node name="road_bountry" type="Node3D" parent="world_map/roads/road"]
transform = Transform3D(-4.37114e-08, 0, 11.6122, 0, 1, 0, -1, 0, -5.07584e-07, 0.0555544, 0.577603, -2.66667)

[node name="StaticBody3D" type="StaticBody3D" parent="world_map/roads/road/road_bountry"]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/roads/road/road_bountry/StaticBody3D"]
shape = SubResource("BoxShape3D_kg1ye")

[node name="MeshInstance3D" type="MeshInstance3D" parent="world_map/roads/road/road_bountry"]
transform = Transform3D(1, 0, 0, 0, 0.462, 0, 4.44089e-16, 0, 1, 0, -0.722223, 0)
mesh = SubResource("BoxMesh_yxvrm")

[node name="StaticBody3D2" type="StaticBody3D" parent="world_map/roads/road/road_bountry"]

[node name="CollisionShape3D2" type="CollisionShape3D" parent="world_map/roads/road/road_bountry/StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 4.44089e-16, 0, 1, 0, -0.627778, 0)
shape = SubResource("BoxShape3D_t5iyl")

[node name="road_bountry2" type="Node3D" parent="world_map/roads/road"]
transform = Transform3D(-4.37114e-08, 0, 11.6122, 0, 1, 0, -1, 0, -5.07584e-07, 0.0555544, 0.577603, 2.60401)

[node name="StaticBody3D" type="StaticBody3D" parent="world_map/roads/road/road_bountry2"]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/roads/road/road_bountry2/StaticBody3D"]
shape = SubResource("BoxShape3D_kg1ye")

[node name="MeshInstance3D" type="MeshInstance3D" parent="world_map/roads/road/road_bountry2"]
transform = Transform3D(1, 0, 0, 0, 0.462, 0, 4.44089e-16, 0, 1, 0, -0.722223, 0)
mesh = SubResource("BoxMesh_yxvrm")

[node name="StaticBody3D2" type="StaticBody3D" parent="world_map/roads/road/road_bountry2"]

[node name="CollisionShape3D2" type="CollisionShape3D" parent="world_map/roads/road/road_bountry2/StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 4.44089e-16, 0, 1, 0, -0.627778, 0)
shape = SubResource("BoxShape3D_t5iyl")

[node name="buildings" type="Node3D" parent="world_map"]

[node name="tall" type="Node3D" parent="world_map/buildings"]
transform = Transform3D(1.2, 0, 0, 0, 1, 0, 0, 0, 1.3, -9, 0, 0)

[node name="simple_appartment" parent="world_map/buildings/tall" instance=ExtResource("4_l73lp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.1, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="world_map/buildings/tall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/buildings/tall/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.15, 2.35, -0.200001)
shape = SubResource("BoxShape3D_k3opd")

[node name="tall2" type="Node3D" parent="world_map/buildings"]
transform = Transform3D(1.44, 0, 0, 0, 1, 0, 0, 0, 0.702, -2, 0, -14)

[node name="simple_appartment" parent="world_map/buildings/tall2" instance=ExtResource("4_l73lp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.1, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="world_map/buildings/tall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/buildings/tall2/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.15, 2.35, -0.200001)
shape = SubResource("BoxShape3D_k3opd")

[node name="brick" type="Node3D" parent="world_map/buildings"]
transform = Transform3D(3.3, 0, 0, 0, 2.4, 0, 0, 0, 2.86, 12, 2.4, 2.8711)

[node name="brick_building" parent="world_map/buildings/brick" instance=ExtResource("5_wujil")]

[node name="StaticBody3D" type="StaticBody3D" parent="world_map/buildings/brick"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/buildings/brick/StaticBody3D"]
transform = Transform3D(0.999938, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 0, 0)
shape = SubResource("BoxShape3D_rwc3a")

[node name="brick2" type="Node3D" parent="world_map/buildings"]
transform = Transform3D(5.346, 0, 0, 0, 2.4, 0, 0, 0, 2.86, -10.4, 2.4, 10)

[node name="brick_building" parent="world_map/buildings/brick2" instance=ExtResource("5_wujil")]

[node name="StaticBody3D" type="StaticBody3D" parent="world_map/buildings/brick2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/buildings/brick2/StaticBody3D"]
transform = Transform3D(0.999938, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 0, 0)
shape = SubResource("BoxShape3D_rwc3a")

[node name="brick3" type="Node3D" parent="world_map/buildings"]
transform = Transform3D(-2.33681e-07, 0, -2.86, 0, 2.4, 0, 5.346, 0, -1.25015e-07, -12.4, 2.4, -12)

[node name="brick_building" parent="world_map/buildings/brick3" instance=ExtResource("5_wujil")]

[node name="StaticBody3D" type="StaticBody3D" parent="world_map/buildings/brick3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="world_map/buildings/brick3/StaticBody3D"]
transform = Transform3D(0.999938, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 0, 0)
shape = SubResource("BoxShape3D_rwc3a")

[node name="traffic" type="Node3D" parent="."]

[node name="yellow_car" parent="traffic" instance=ExtResource("6_jwkj6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.12383, 0.65, 3.11276)
STEER_LIMIT = 0.6
engine_force_value = 40

[node name="center" type="RayCast3D" parent="traffic/yellow_car"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.888889, 0)
target_position = Vector3(0, 0, -11)
collision_mask = 3

[node name="left" type="RayCast3D" parent="traffic/yellow_car"]
transform = Transform3D(0.999576, 0, 0.0291254, 0, 1, 0, -0.0291254, 0, 0.999576, 0, 0.888889, -1.46681)
target_position = Vector3(-4, 0, 0)
collision_mask = 3

[node name="right" type="RayCast3D" parent="traffic/yellow_car"]
transform = Transform3D(0.916341, -0.227715, -0.329341, 0.274353, 0.956181, 0.102216, 0.291634, -0.18402, 0.938662, 0, 0.888889, -1.06734)
target_position = Vector3(8, 0, 0)
collision_mask = 3

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 35.434, 23)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 18, 28)
shadow_enabled = true
